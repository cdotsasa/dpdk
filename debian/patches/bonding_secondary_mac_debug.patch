---
 drivers/net/bonding/rte_eth_bond_pmd.c |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

--- a/drivers/net/bonding/rte_eth_bond_pmd.c
+++ b/drivers/net/bonding/rte_eth_bond_pmd.c
@@ -271,6 +271,23 @@ bond_ethdev_8023ad_flow_set(struct rte_e
 	return 0;
 }
 
+static uint8_t
+bond_mac_matches_config_mac(const struct rte_ether_addr *addrs, const struct rte_ether_addr *dst_addr)
+{
+	unsigned int i;
+
+	for (i = 0; i < BOND_MAX_MAC_ADDRS; i++) {
+		const struct rte_ether_addr *addr = addrs + i;
+
+		if (rte_is_zero_ether_addr(addr))
+			continue;
+
+		if (rte_is_same_ether_addr(dst_addr, addr))
+			return 1;
+	}
+	return 0;
+}
+
 static inline uint16_t
 rx_burst_8023ad(void *queue, struct rte_mbuf **bufs, uint16_t nb_pkts,
 		bool dedicated_rxq)
@@ -343,7 +360,7 @@ rx_burst_8023ad(void *queue, struct rte_
 				!collecting ||
 				(!promisc &&
 				 ((rte_is_unicast_ether_addr(&hdr->d_addr) &&
-				   !rte_is_same_ether_addr(bond_mac,
+				   !bond_mac_matches_config_mac(bond_mac,
 						       &hdr->d_addr)) ||
 				  (!allmulti &&
 				   rte_is_multicast_ether_addr(&hdr->d_addr)))))) {
